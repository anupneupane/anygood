<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link href="css/jquery-ui-1.8.21.custom.css" rel="stylesheet" type="text/css" media="all">
  <link href="css/screen.css" rel="stylesheet" type="text/css" media="all">
  <title>Any good? - Check if a movie is any good!</title>
</head>
<body>
  <a href="https://github.com/mrnugget/anygood"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
  <div id="anygood">
    <header>
      <h1>Any good?</h1>
    </header>

    <div id="main">
      <form action="/api/movies" id="search_movie">
        <input id="movie_name_input" type="text" name="movie_name_input" placeholder="Enter the name of a movie here...">
        <input id="movie_year_input" type="hidden" name="movie_year_input">
        <input type="submit" value="Search" class="button">
      </form>

      <div id="loading" class="hidden">
        Loading...
      </div>

      <div id="result">

      </div>
    </div>

    <footer>
      <p>
        Built by <a href="http://www.github.com/mrnugget">Thorsten Ball</a> as a fun project!
        Fork this project on <a href="http://www.github.com/mrnugget/anygood">GitHub.com</a>
      </p>
      <p>
      Powered by <a href="http://redis.io/">Redis</a>, <a href="http://www.sinatrarb.com/">Sinatra</a>,
      <a href="http://www.heroku.com">Heroku</a>,
      <a href="http://developer.rottentomatoes.com/">Rotten Tomatoes API</a> and
      <a href="http://imdbapi.com/">IMDb API</a>
      </p>
    </footer>
  </div>

  <script type="text/template" id="500-template">
    <div class="error 500">
      <h3>Sorry!</h3>
      Something went wrong!
    </div>
  </script>

  <script type="text/template" id="search-result-template">
    <div class="search-result">
      <h3>Search Results:</h3>
      {{ if (movies.length > 0) { }}
        <ul>
        {{ $.each(movies, function(index, movie) { }}
          <li><a href="#movies/{{= movie.year }}/{{= movie.name.split(' ').join('_') }}" class="search-result">{{= movie.name}} ({{=movie.year}})</a></li>
        {{ }); }}
        </ul>
      {{ } else { }}
        <p>Sorry! Couldn't find any matching movies, mate :(</p>
      {{ } }}
    </div>
  </script>

  <script type="text/template" id="movie-template">
    <div class="movie">
      <h3>{{= name }} ({{= year }})</h3>
      <div class="info">
        <img src="{{= info.poster }}" alt="{{= name }}">
      </div>
      <div class="ratings">
        <div class="combined-rating">
          Combined Rating: {{= combined_rating}}/10
        </div>
        {{ $.each(ratings, function(rating_site, rating) { }}
          {{ if (rating.error) { }}
            <div class="rating-error">
              <h4>{{= rating_site}}</h4>
              {{= rating.error }}
            </div>
          {{ } else { }}
            <div class="rating" data-rating-site="{{= rating_site}}" data-ignored="false">
              <h4><a href="{{= rating.url}}">{{= rating_site}}</a></h4>
              Rating: {{= rating.score }}/10
            </div>
          {{ } }}
        {{ }); }}
      </div>
    </div>
  </script>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')</script>

  <script src="js/libs/jquery-ui-1.8.21.custom.min.js"></script>
  <script src="js/libs/underscore-min.js"></script>
  <script src="js/libs/backbone-min.js"></script>
  <script src="js/app.js"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33362190-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>
